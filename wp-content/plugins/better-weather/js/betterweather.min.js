!function(e){e.betterWeather=function(t,a){var r=this;r.$el=e(t),r.el=t,r.$el.data("betterWeather",r),r.templateInitialized=!1,r.retina=window.devicePixelRatio>1,r.init=function(){r.initIcons(),r.$el.hasClass("better-weather")&&(r.prettifyIconSize(),e(window).resize(function(){r.prettifyIconSize()})),setTimeout(function(){r.helper.hideLoader()},600)},r.initIcons=function(){if(r.$el.hasClass("animated-icons"))if(r.$el.hasClass("better-weather")){if(r.helper.isCanvasSupported()&&(r.skycons=new Skycons({color:r.$el.data("font-color"),dropShadow:!0})),r.$el.hasClass("style-normal")){var t="#"+r.$el.attr("id")+"-summary-icon";e(t).attr("height",r.helper.getCorrectSize(85)).attr("width",r.helper.getCorrectSize(85)),r.skycons.set(r.$el.attr("id")+"-summary-icon",e(t).data("icon")),r.skycons.play()}else{var t="#"+r.$el.attr("id")+"-summary-icon";e(t).attr("height",r.helper.getCorrectSize(55)).attr("width",r.helper.getCorrectSize(55)),r.skycons.set(r.$el.attr("id")+"-summary-icon",e(t).data("icon")),r.skycons.play()}if(r.$el.hasClass("have-next-days")){var t="#"+r.$el.attr("id");e(t+"-day1-icon").attr("height",r.helper.getCorrectSize(17)).attr("width",r.helper.getCorrectSize(17)),r.skycons.set(r.$el.attr("id")+"-day1-icon",e(t+"-day1-icon").data("icon")),r.skycons.play(),e(t+"-day2-icon").attr("height",r.helper.getCorrectSize(17)).attr("width",r.helper.getCorrectSize(17)),r.skycons.set(r.$el.attr("id")+"-day2-icon",e(t+"-day2-icon").data("icon")),r.skycons.play(),e(t+"-day3-icon").attr("height",r.helper.getCorrectSize(17)).attr("width",r.helper.getCorrectSize(17)),r.skycons.set(r.$el.attr("id")+"-day3-icon",e(t+"-day3-icon").data("icon")),r.skycons.play(),e(t+"-day4-icon").attr("height",r.helper.getCorrectSize(17)).attr("width",r.helper.getCorrectSize(17)),r.skycons.set(r.$el.attr("id")+"-day4-icon",e(t+"-day4-icon").data("icon")),r.skycons.play()}}else if(r.$el.hasClass("better-weather-inline")){r.helper.isCanvasSupported()&&(r.skycons=new Skycons({color:r.$el.data("font-color"),dropShadow:!1}));var a="",i="";switch(r.$el.data("inline-size")){case"small":i=a=18;break;case"medium":i=a=30;break;case"large":i=a=55}e("#"+r.$el.attr("id")+"-summary-icon").attr("height",i).attr("width",a),r.skycons.set(r.$el.attr("id")+"-summary-icon",e("#"+r.$el.attr("id")+"-summary-icon").data("icon")),r.skycons.play()}},r.prettifyIconSize=function(){var e=r.$el.width(),t=r.$el.find(".bw_summary .bw_icon");if(!t.hasClass("hw_static-icon"))switch(!0){case e<=70:r.helper.updateIconSize(t,28,28);break;case e<=100:r.helper.updateIconSize(t,35,35);break;case e<=200:r.helper.updateIconSize(t,40,40);break;case e<=400:r.$el.hasClass("style-modern")?r.helper.updateIconSize(t,55,55):r.$el.hasClass("style-modern")&&r.helper.updateIconSize(t,70,70);break;case e<=1170:r.helper.updateIconSize(t,35,35)}},r.helper={getCorrectSize:function(e){return r.retina?2*e:e},updateIconSize:function(e,t,a){e.attr("width",r.helper.getCorrectSize(t)),e.attr("height",r.helper.getCorrectSize(a)),e.css("width",t+"px"),e.css("height",a+"px")},hideLoader:function(){r.$el.find(".bw-loader").remove()},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}},"function"==typeof elementQuery&&elementQuery({".better-weather":{"max-width":["2000px","1170px","970px","900px","830px","650px","550px","440px","400px","350px","300px","250px","200px","170px","120px","100px","50px"]}}),r.init()},e.fn.betterWeather=function(t){return this.each(function(){new e.betterWeather(this,t)})}}(jQuery),function(e){e(".better-weather, .better-weather-inline").each(function(){e(this).betterWeather()})}(jQuery);